<!--配置管理  ->  添加配置项-->
<div class="row">
  <div class="col-md-12">
    <div class="box box-info">
      <div class="box-header with-border">
        <h3 class="box-title">添加{{cmdbname}}</h3>
      </div>
      <!-- /.box-header -->
      <!-- form start -->
      <form class="form-horizontal" name="itemForm">
        <div class="box-body">
          <div class="form-group" ng-class="{'has-success':!itemForm.name.$invalid,'has-warning':itemForm.name.$error.required}">
            <!--正确 has-success 错误 has-error 预警 has-warning-->
            <label class="col-sm-2 control-label">脚本名称</label>
            <div class="col-sm-10">
              <div class="row">
                <div class="col-sm-7">
                    <input type="text" class="form-control input-sm" name="name" placeholder="作业名称"
                      required ng-pattern="/[a-zA-Z][\w|\.|-]{2,}\.(sh|py|pl|yml)/" ng-model="item.name" readonly="readonly">
                </div>
                <div class="col-sm-4">
                  <span class="help-block" ng-show="itemForm.name.$error.required"><i class="fa fa-bell-o"></i>请先输入脚本名称，再编辑代码</span>
                  <span class="help-block" ng-show="!itemForm.name.$invalid"><i class="fa fa-check"></i></span>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group" ng-class="{'has-success':!itemForm.group.$invalid,'has-warning':itemForm.group.$error.required}">
            <label class="col-sm-2 control-label">分组</label>
            <div class="col-sm-10">
              <div class="row">
                <div class="col-sm-7">
                  <select ng-model="groupid" ng-options="jobsgroup.groupid for jobsgroup in jobsgroups"></select>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">脚本内容: </label>
            <div class="col-sm-12">
              <div class="row">
                <div class="col-sm-1"></div>
                <div class="col-xs-10">
                  <textarea class="form-control" id="scriptcode" name="scriptcode">
                  </textarea>
                </div>
              </div>
            </div>
          </div>
          <!--
          <input type="hidden" class="form-control input-sm" ng-model="item.step" value="1">
        -->
        <!-- /.box-body -->
        <div class="box-footer">
          <button type="button" class="btn btn-default" ng-click="cancel()">返回列表</button>
          <button type="button" class="btn btn-info pull-right" ng-click="ok(!itemForm.$invalid)" ng-show="allowsave">保存</button>
        </div>
        <!-- /.box-footer -->
      </form>
    </div>
  </div>
</div>
<script src="statics/codemirror/mode/python/python.js"></script>
<script src="statics/codemirror/mode/perl/perl.js"></script>
<script src="statics/codemirror/mode/shell/shell.js"></script>
<script src="statics/codemirror/mode/yaml/yaml.js"></script>
